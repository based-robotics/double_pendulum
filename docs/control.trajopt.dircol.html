<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Direct Collocation &mdash; Double Pendulum 1.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Trajectory Stabilization" href="control.trajstab.html" />
    <link rel="prev" title="Iterative Linear Quadratic Regulator (iLQR)" href="control.trajopt.ilqr.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Double Pendulum
              <img src="_static/chaotic_freefall_long_exposure_shot.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="dynamics.html"> Double Pendulum Dynamics</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html"> Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/double_pendulum.html"> Software Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="software_structure.html"> Repository Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="hardware.html"> Hardware</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="control.html"> Control Methods</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="control.trajopt.html">Trajectory Optimization</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="control.trajopt.ilqr.html">Iterative Linear Quadratic Regulator (iLQR)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Direct Collocation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="control.trajstab.html">Trajectory Stabilization</a></li>
<li class="toctree-l2"><a class="reference internal" href="control.policy.html">Policy-based Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="control.mpc.html">Model Predictive Control (MPC)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="leaderboard.html"> Leaderboards</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Double Pendulum</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">&lt;no title&gt;</a></li>
          <li class="breadcrumb-item"><a href="control.html">Control Methods</a></li>
          <li class="breadcrumb-item"><a href="control.trajopt.html">Trajectory Optimization</a></li>
      <li class="breadcrumb-item active">Direct Collocation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/control.trajopt.dircol.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="direct-collocation">
<h1>Direct Collocation<a class="headerlink" href="#direct-collocation" title="Permalink to this heading"></a></h1>
<div class="math notranslate nohighlight">
\[\newcommand{\vect}[1]{\boldsymbol{#1}}
\newcommand{\dvect}[1]{\dot{\boldsymbol{#1}}}
\newcommand{\ddvect}[1]{\ddot{\boldsymbol{#1}}}
\newcommand{\mat}[1]{\boldsymbol{#1}}\]</div>
<p>Direct collocation [1] is a trajectory optimization method which belongs to the
collocation methods. The optimal control problem is transformed into a
mathematical programming problem by transcribing the trajectory with <span class="math notranslate nohighlight">\(N\)</span>
knot points <span class="math notranslate nohighlight">\(\{\vect{x}_i\}\)</span>.  For the optimization a loss function
<span class="math notranslate nohighlight">\(L(\{\vect{x}_i\}, \{\vect{u}_i\})\)</span> is minimized with the knot points and
the control inputs <span class="math notranslate nohighlight">\(\{\vect{u}_i\}\)</span> as decision variables. The
formulation of the optimization problem to compute a trajectory from an initial
state <span class="math notranslate nohighlight">\(x_{init}\)</span> to a goal state <span class="math notranslate nohighlight">\(x_{goal}\)</span> while obeying control
limits <span class="math notranslate nohighlight">\((u_{1, max}, u_{2, max})\)</span> is</p>
<div class="math notranslate nohighlight">
\[\begin{split}\min_{\vect{x}_0, \ldots, \vect{x}_{N}, \vect{u}_0, \ldots, \vect{u}_{N-1}}
&amp;L(\{\vect{x}_i\}, \{\vect{u}_i\})\\
\text{subject to}:  \hspace{1cm}&amp; \vect{x}_{i+1} = f_{discrete}(\vect{x}_{i},
\vect{u}_i) \quad \forall i\\
\hspace{1cm}&amp; x_0 = x_{init} \\
\hspace{1cm}&amp; x_N = x_{goal} \\
\hspace{1cm}&amp; |u_{1,i}| \leq u_{1,max} \quad \forall i \\
\hspace{1cm}&amp; |u_{2,i}| \leq u_{2,max} \quad \forall i\end{split}\]</div>
<p>The numerical solution can be obtained with Sequential Quadratic Programming (SQP).
In practice, it can be useful to interpolate the trajectory between knot points
as well as between controls with polynomials and then using the parameters of
these piecewise polynomials as decision variables instead. This allows to use
fewer knot points and still obtain consistent trajectories.</p>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>[1] Hargraves, Charles R., and Stephen W. Paris. “Direct trajectory
optimization using nonlinear programming and collocation.” Journal of
guidance, control, and dynamics 10.4 (1987): 338-342.
url: <a class="reference external" href="https://arc.aiaa.org/doi/abs/10.2514/3.20223">https://arc.aiaa.org/doi/abs/10.2514/3.20223</a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="control.trajopt.ilqr.html" class="btn btn-neutral float-left" title="Iterative Linear Quadratic Regulator (iLQR)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="control.trajstab.html" class="btn btn-neutral float-right" title="Trajectory Stabilization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Underactuated Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>